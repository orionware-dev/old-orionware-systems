<project name="ProjectBuilderService" basedir=".">
	<macrodef name="buildProject">
        <attribute name="sourceDir" default=""/>
        <attribute name="binariesDir" default=""/>
        
        <sequential>
            <emptyPath path="@{binariesDir}"/>
            <compile sourceDir="@{sourceDir}" binariesDir="@{binariesDir}"/>
        	
        	<copy todir="@{binariesDir}">
        	    <fileset dir="@{sourceDir}" includes="**/*.prop,**/*.xml"/>
        	</copy>
        </sequential>
    </macrodef>
	
	
	<macrodef name="packageProject">
        <attribute name="binariesDir" default=""/>
        <attribute name="JARPath" default=""/>
        <attribute name="projectName" default=""/>
        
        <sequential>
            <buildJARFile JARPath="@{JARPath}" binariesDir="@{binariesDir}" projectName="@{projectName}"/>
            <print a="${orion.libraries.orionware.libraries.dir}/@{JARPath}"/>
        </sequential>
    </macrodef>
	
	
	<macrodef name="buildAndPackageProject">
        <attribute name="sourceDir" default=""/>
        <attribute name="binariesDir" default=""/>
        <attribute name="JARPath" default=""/>
        <attribute name="projectName" default=""/>
        
        <sequential>
        	<buildProject sourceDir="@{sourceDir}" binariesDir="@{binariesDir}"/>
	        <packageProject JARPath="${orion.libraries.orionware.libraries.dir}/@{JARPath}" binariesDir="@{binariesDir}" projectName="@{projectName}"/>
        </sequential>
    </macrodef>
</project>